1. Make sure the config file in ~/.config/fish/config.fish is like this

if status is-interactive
    # Prevent Atuin from setting its own (broken) bindings
    set -gx ATUIN_NOBIND true
    atuin init fish | source

    # Manually bind keys using modern Fish syntax
    bind \e\[A _atuin_bind_up # Up Arrow
    bind \cr _atuin_search # Ctrl+R

    # Vi mode bindings (if Vi mode exists)
    if bind -M insert >/dev/null 2>&1
        bind -M insert \e\[A _atuin_bind_up
        bind -M insert \cr _atuin_search
    end

    # Ctrl+Delete = delete word forward
    bind \e\[3\;5~ kill-word

end

# Aliases
alias lsa "ls -a"
alias update "~/.updater.fish"
alias copy "wl-copy < "
alias paste "wl-paste > > "
alias scan "clamscan"
alias trm "trash-put"
alias trestore "trash-restore"
alias tbin "trash-empty"
alias listt "trash-list"
alias rebootbios "systemctl reboot --firmware-setup"

thefuck --alias | source

/home/linuxbrew/.linuxbrew/bin/brew shellenv | source
eval (/home/linuxbrew/.linuxbrew/bin/brew shellenv fish)

2. after installing homebrew make sure to manually copy the command that homebrew will gave you if it detects homebrew is not on path just to make sure
# Ensure the config directory exists
if not test -d ~/.config/fish
    mkdir -p ~/.config/fish
end

# Append the Homebrew setup to Fish config
echo 'eval (/home/linuxbrew/.linuxbrew/bin/brew shellenv fish)' >> ~/.config/fish/config.fish

# Evaluate the Homebrew environment in the current session
eval (/home/linuxbrew/.linuxbrew/bin/brew shellenv fish)

3. make sure the /etc/nix/nix.conf file have this inside of it
experimental-features = nix-command flakes

        
